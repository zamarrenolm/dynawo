<?xml version='1.0' encoding='UTF-8'?>

<dyn:dynamicModelsArchitecture xmlns:dyn="http://www.rte-france.com/dynawo">
  <dyn:modelicaModel id="SynchronousGenerator">
    <dyn:unitDynamicModel id="generatorSynchronous" name="Dynawo.Electrical.Machines.OmegaRef.GeneratorSynchronous" initName="Dynawo.Electrical.Machines.OmegaRef.GeneratorSynchronousInt_INIT" parFile="case1.par" parId="SynchronousMachine"/>
    <dyn:unitDynamicModel id="avr" name="Dynawo.Electrical.Controls.Machines.VoltageRegulators.IEEE_SEXS" parFile="case1.par" parId="avr"/>
    <dyn:unitDynamicModel id="governor" name="Dynawo.Electrical.Controls.Machines.Governors.IEEE_TGOV1" parFile="case1.par" parId="governor"/>
    <dyn:unitDynamicModel id="pss" name="Dynawo.Electrical.Controls.Machines.PowerSystemStabilizers.IEEE_PSS2A" parFile="case1.par" parId="pss"/>
    <dyn:unitDynamicModel id="step" name="Dynawo.Electrical.Controls.Basics.Step"  parFile="case1.par" parId="step"/>
    <dyn:unitDynamicModel id="omega" name="Dynawo.Electrical.Controls.Basics.SetPoint" parFile="case1.par" parId="omega"/>
    <dyn:connect id1="generatorSynchronous" var1="omegaRefPu" id2="omega" var2="setPoint"/>
    <dyn:connect id1="generatorSynchronous" var1="omegaPu.value" id2="governor" var2="omegaPu"/>
    <dyn:connect id1="generatorSynchronous" var1="PmPu.value" id2="governor" var2="PmPu"/>
    <dyn:connect id1="generatorSynchronous" var1="PGenPu" id2="pss" var2="PGenPu"/>
    <dyn:connect id1="generatorSynchronous" var1="omegaPu.value" id2="pss" var2="omegaPu"/>
    <dyn:connect id1="generatorSynchronous" var1="UStatorPu.value" id2="avr" var2="UsPu"/>
    <dyn:connect id1="generatorSynchronous" var1="efdPu.value" id2="avr" var2="EfdPu"/>
    <dyn:connect id1="avr" var1="UpssPu" id2="pss" var2="UpssPu"/>
    <dyn:connect id1="avr" var1="UsRefPu" id2="step" var2="step.value"/>
  </dyn:modelicaModel>
  <dyn:modelicaModel id="Bus">
    <dyn:unitDynamicModel id="bus" name="Dynawo.Electrical.Buses.Bus"/>
  </dyn:modelicaModel>
  <dyn:connect id1="Bus" var1="bus_terminal" id2="SynchronousGenerator" var2="generatorSynchronous_terminal"/>
</dyn:dynamicModelsArchitecture>
